@inherits LayoutComponentBase

<div class="sidebar">
    <NavMenu />
</div>

<div class="main">
    <div class="top-row px-4">
        <button class="btn btn-primary" @onclick="ShowLoginModal">Увійти</button>
    </div>

    @if (isLoginModalOpen)
    {
        <div class="modal show">
            <div class="modal-content">
                <h3>Вітаємо 👋</h3>
                <button class="close-button" @onclick="CloseLoginModal">✖</button>

                <button class="btn btn-secondary" @onclick="ShowLoginForm">Авторизація</button>
                <button class="btn btn-success" @onclick="ShowRegisterForm">Реєстрація</button>

                @if (showLoginForm)
                {
                    <LoginForm />
                }

                @if (showRegisterForm)
                {
                    <RegisterForm />
                }
            </div>
        </div>
    }

    <div class="content px-4">
        @Body
    </div>
</div>

@code {
    private bool isLoginModalOpen = false;
    private bool showLoginForm = false;
    private bool showRegisterForm = false;

    private void ShowLoginModal()
    {
        isLoginModalOpen = true;
        StateHasChanged();
    }

    private void CloseLoginModal()
    {
        isLoginModalOpen = false;
        StateHasChanged();
    }

    private void ShowLoginForm() { showLoginForm = true; showRegisterForm = false; }
    private void ShowRegisterForm() { showRegisterForm = true; showLoginForm = false; }
}
