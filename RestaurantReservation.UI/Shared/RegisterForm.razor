@inject HttpClient Http
@using System.Net.Http.Json


<EditForm Model="@registerData" OnValidSubmit="HandleRegister">
    <DataAnnotationsValidator />

    <div class="form-group">
        <label>Имя пользователя</label>
        <InputText class="form-control" @bind-Value="registerData.Username" />
    </div>

    <div class="form-group">
        <label>Email</label>
        <InputText class="form-control" @bind-Value="registerData.Email" />
    </div>

    <div class="form-group">
        <label>Пароль</label>
        <InputText class="form-control" type="password" @bind-Value="registerData.Password" />
    </div>

    <button class="btn btn-success" type="submit">Зарегистрироваться</button>
</EditForm>

@code {
    private RegisterData registerData = new();

    private async Task HandleRegister()
    {
        await Http.PostAsJsonAsync("http://localhost:5001/api/register", registerData);
        // Опрацювати успішну реєстрацію, наприклад, перенаправити користувача на сторінку входу
    }

    private class RegisterData
    {
        public string Username { get; set; } = string.Empty;
        public string Email { get; set; } = string.Empty;
        public string Password { get; set; } = string.Empty;
    }
}